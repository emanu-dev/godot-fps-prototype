[gd_scene load_steps=21 format=2]

[ext_resource path="res://Scenes/Components/UI.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Monster.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Zombie.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/ZombieRanged.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/ItemHealth.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/ItemAmmo.tscn" type="PackedScene" id=6]
[ext_resource path="res://Sprites/Weapon/smg-item-final.png" type="Texture" id=7]
[ext_resource path="res://Sprites/Weapon/shotgun-item-final.png" type="Texture" id=8]
[ext_resource path="res://Scripts/ShotgunPickup.gd" type="Script" id=9]
[ext_resource path="res://SFX/ammo-pickup.wav" type="AudioStream" id=10]
[ext_resource path="res://Scripts/SMGPickup.gd" type="Script" id=11]
[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=12]
[ext_resource path="res://assets/simple_skybox/Skybox.tscn" type="PackedScene" id=13]
[ext_resource path="res://Music/stage-music.ogg" type="AudioStream" id=14]
[ext_resource path="res://Scenes/map.tscn" type="PackedScene" id=15]

[sub_resource type="SpatialMaterial" id=1]
flags_unshaded = true
params_billboard_mode = 2
params_billboard_keep_scale = true
params_use_alpha_scissor = true
params_alpha_scissor_threshold = 0.98
albedo_texture = ExtResource( 7 )

[sub_resource type="CylinderShape" id=2]
radius = 0.482181
height = 0.64562

[sub_resource type="Animation" id=3]
length = 2.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:offset")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 2 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 0, -16 ), Vector2( 0, 16 ), Vector2( 0, -16 ) ]
}

[sub_resource type="Animation" id=4]
length = 2.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:offset")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 2 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 0, -16 ), Vector2( 0, 16 ), Vector2( 0, -16 ) ]
}

[sub_resource type="Environment" id=5]
background_mode = 2
ambient_light_color = Color( 0.243137, 0.243137, 0.298039, 1 )
ambient_light_energy = 0.8
fog_enabled = true
fog_color = Color( 0, 0, 0, 0.784314 )
fog_depth_begin = 8.0
fog_depth_end = 25.0
fog_height_max = -163.7

[node name="World" type="Spatial"]

[node name="UI" parent="." instance=ExtResource( 1 )]
margin_left = 15.0
margin_top = 15.0
margin_right = -15.0
margin_bottom = -15.0

[node name="Enemies" type="Node" parent="."]
editor/display_folded = true

[node name="Monster" parent="Enemies" instance=ExtResource( 2 )]
transform = Transform( -0.698774, 0, -0.715344, 0, 1, 0, 0.715344, 0, -0.698774, 33.4254, 1.71726, -57.1804 )

[node name="ImpTest7" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( 0.0633612, 0, -0.997991, 0, 1, 0, 0.997991, 0, 0.0633612, -4.95506, 5.24106, 12.2558 )

[node name="ImpTest9" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0.00109594, 0, 1, 0, -0.00109594, 0, 1, 9.06678, 5.29617, 13.8515 )

[node name="ImpTest10" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0.00109594, 0, 1, 0, -0.00109594, 0, 1, 12.4483, 5.29617, 13.8515 )

[node name="ImpTest11" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( 1, 0, 0.00109594, 0, 1, 0, -0.00109594, 0, 1, 15.3049, 5.29617, 13.8624 )

[node name="ImpTest8" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( -0.41736, 0, -0.908742, 0, 1, 0, 0.908742, 0, -0.41736, -7.50969, 5.29617, 9.94669 )

[node name="ImpTest2" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( -0.313909, 0, 0.949453, 0, 1, 0, -0.949453, 0, -0.313909, 23.3421, 5.29617, -3.70521 )

[node name="ImpTest3" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( -0.487675, 0, 0.873025, 0, 1, 0, -0.873025, 0, -0.487675, 20.8193, 5.29617, -1.69545 )

[node name="ImpTest4" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( -0.999991, 0, 0.00426039, 0, 1, 0, -0.00426039, 0, -0.999991, 9.05052, 5.29617, -33.5888 )

[node name="ImpTest5" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( -0.224109, 0, -0.974564, 0, 1, 0, 0.974564, 0, -0.224109, 9.39987, 5.29617, -24.7868 )

[node name="ImpTest17" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( 0.996108, 0, -0.0881365, 0, 1, 0, 0.0881365, 0, 0.996108, 9.15604, 5.29617, -15.3489 )

[node name="ImpTest14" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( -0.952145, 0, -0.305646, 0, 1, 0, 0.305646, 0, -0.952145, -6.98487, 1.31595, -53.094 )

[node name="ImpTest15" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( -0.952145, 0, -0.305646, 0, 1, 0, 0.305646, 0, -0.952145, -7.25226, 4.23782, -27.344 )

[node name="ImpTest16" parent="Enemies" instance=ExtResource( 3 )]
transform = Transform( -0.398487, 5.6738e-05, -0.917174, 0.000305422, 1, -7.08251e-05, 0.917174, -0.00030835, -0.398487, 1.3938, 5.29617, -21.62 )

[node name="ZombieRanged" parent="Enemies" instance=ExtResource( 4 )]
transform = Transform( -0.305434, 0, -0.952213, 0, 1, 0, 0.952213, 0, -0.305434, -2.18454, 5.29617, -22.919 )

[node name="ZombieRanged2" parent="Enemies" instance=ExtResource( 4 )]
transform = Transform( -0.999594, 0, 0.0284823, 0, 1, 0, -0.0284823, 0, -0.999594, -1.8757, 5.22635, 1.86942 )

[node name="Items" type="Node" parent="."]
editor/display_folded = true

[node name="HealthItem" parent="Items" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 10.426, 1.05191, 14.4532 )

[node name="HealthItem2" parent="Items" instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 13.7534, 1.05191, 14.4532 )

[node name="HandgunAmmoItem" parent="Items" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.89095, 1.05191, 5.096 )
ammo_type = 1

[node name="HandgunAmmoItem4" parent="Items" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.89095, 1.05191, 6.94585 )
ammo_type = 1

[node name="HandgunAmmoItem2" parent="Items" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.35075, 1.05191, -30.5083 )
ammo_type = 2

[node name="HandgunAmmoItem3" parent="Items" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.35075, 1.05191, -27.886 )
ammo_type = 3

[node name="ShotgunPickup" type="Sprite3D" parent="Items"]
editor/display_folded = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.24836, 1.48476, 35.6781 )
material_override = SubResource( 1 )
offset = Vector2( 0, -3.43619 )
texture = ExtResource( 8 )
script = ExtResource( 9 )

[node name="Area" type="Area" parent="Items/ShotgunPickup"]
editor/display_folded = true

[node name="CollisionShape" type="CollisionShape" parent="Items/ShotgunPickup/Area"]
shape = SubResource( 2 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="Items/ShotgunPickup"]
anims/Hover = SubResource( 3 )

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Items/ShotgunPickup"]
stream = ExtResource( 10 )

[node name="SMGPickup" type="Sprite3D" parent="Items"]
editor/display_folded = true
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9.08642, 1.48476, 35.6781 )
material_override = SubResource( 1 )
texture = ExtResource( 7 )
script = ExtResource( 11 )

[node name="Area" type="Area" parent="Items/SMGPickup"]
editor/display_folded = true

[node name="CollisionShape" type="CollisionShape" parent="Items/SMGPickup/Area"]
shape = SubResource( 2 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="Items/SMGPickup"]
anims/Hover = SubResource( 4 )

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Items/SMGPickup"]
stream = ExtResource( 10 )

[node name="Player" parent="." instance=ExtResource( 12 )]
transform = Transform( -0.715442, 0, -0.698672, 0, 1, 0, 0.698672, 0, -0.715442, -22.4345, 2.83027, 49.493 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 5 )

[node name="Skybox" parent="." instance=ExtResource( 13 )]
transform = Transform( 28.428, 0, 0, 0, 28.428, 0, 0, 0, 28.428, 0, 0, 0 )

[node name="SpotLight" type="SpotLight" parent="."]
transform = Transform( 1, 0, 0, 0, 0.520089, 0.854112, 0, -0.854112, 0.520089, 0, 11.1548, 51.2332 )
light_color = Color( 0.901961, 0.396078, 0.0941176, 1 )
spot_range = 13.3

[node name="SpotLight2" type="SpotLight" parent="."]
transform = Transform( 0.759552, 0.555555, -0.33829, 0, 0.520089, 0.854112, 0.650447, -0.648742, 0.395034, 12.6012, 12.9055, 4.65531 )
light_color = Color( 0.901961, 0.396078, 0.0941176, 1 )
spot_range = 13.3

[node name="SpotLight3" type="SpotLight" parent="."]
transform = Transform( -0.00895932, 0.854078, -0.520068, 0, 0.520089, 0.854112, 0.99996, 0.00765226, -0.00465964, -5.78625, 16.7821, -29.0335 )
light_color = Color( 0.901961, 0.396078, 0.0941176, 1 )
spot_range = 13.3

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.0593939, -0.83344, 0.549408, 0, 0.55038, 0.834914, -0.998235, -0.0495888, 0.0326892, 0, 11.3552, 8.70565 )
light_energy = 0.2

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 14 )
volume_db = 2.0
autoplay = true

[node name="Map" parent="." instance=ExtResource( 15 )]
transform = Transform( 4, 0, 0, 0, 4, 0, 0, 0, 4, 0, -0.184651, 0 )
[connection signal="body_entered" from="Items/ShotgunPickup/Area" to="Items/ShotgunPickup" method="_on_Area_body_entered"]
[connection signal="body_entered" from="Items/SMGPickup/Area" to="Items/SMGPickup" method="_on_Area_body_entered"]
[connection signal="ammo_update" from="Player" to="UI" method="_on_Player_ammo_update"]
[connection signal="health_update" from="Player" to="UI" method="_on_Player_health_update"]
[connection signal="weapon_change" from="Player" to="UI" method="_on_Player_weapon_change"]
